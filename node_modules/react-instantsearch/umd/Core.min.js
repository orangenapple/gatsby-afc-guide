/*! ReactInstantSearch 5.0.3 | Â© Algolia, inc. | https://community.algolia.com/react-instantsearch */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t.ReactInstantSearch=t.ReactInstantSearch||{},t.ReactInstantSearch.Core={}),t.React)}(this,function(t,e){"use strict";var r="default"in e?e.default:e,n="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};n.setTimeout,n.clearTimeout;var o=n.performance||{};o.now||o.mozNow||o.msNow||o.oNow||o.webkitNow;var a=function(){this.__data__=[],this.size=0};var i=function(t,e){return t===e||t!=t&&e!=e};var c=function(t,e){for(var r=t.length;r--;)if(i(t[r][0],e))return r;return-1},s=Array.prototype.splice;var u=function(t){var e=this.__data__,r=c(e,t);return!(r<0||(r==e.length-1?e.pop():s.call(e,r,1),--this.size,0))};var f=function(t){var e=this.__data__,r=c(e,t);return r<0?void 0:e[r][1]};var l=function(t){return c(this.__data__,t)>-1};var p=function(t,e){var r=this.__data__,n=c(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=a,h.prototype.delete=u,h.prototype.get=f,h.prototype.has=l,h.prototype.set=p;var v=h;var y=function(){this.__data__=new v,this.size=0};var b=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var d=function(t){return this.__data__.get(t)};var g=function(t){return this.__data__.has(t)},_="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function j(t,e){return t(e={exports:{}},e.exports),e.exports}var O="object"==typeof _&&_&&_.Object===Object&&_,w="object"==typeof self&&self&&self.Object===Object&&self,m=O||w||Function("return this")(),S=m.Symbol,P=Object.prototype,x=P.hasOwnProperty,k=P.toString,A=S?S.toStringTag:void 0;var R=function(t){var e=x.call(t,A),r=t[A];try{t[A]=void 0;var n=!0}catch(t){}var o=k.call(t);return n&&(e?t[A]=r:delete t[A]),o},F=Object.prototype.toString;var T=function(t){return F.call(t)},z="[object Null]",E="[object Undefined]",C=S?S.toStringTag:void 0;var M=function(t){return null==t?void 0===t?E:z:C&&C in Object(t)?R(t):T(t)};var U=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},N="[object AsyncFunction]",I="[object Function]",V="[object GeneratorFunction]",W="[object Proxy]";var D,L=function(t){if(!U(t))return!1;var e=M(t);return e==I||e==V||e==N||e==W},$=m["__core-js_shared__"],B=(D=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"";var q=function(t){return!!B&&B in t},H=Function.prototype.toString;var G=function(t){if(null!=t){try{return H.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Y=/^\[object .+?Constructor\]$/,J=Function.prototype,K=Object.prototype,Q=J.toString,X=K.hasOwnProperty,Z=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var tt=function(t){return!(!U(t)||q(t))&&(L(t)?Z:Y).test(G(t))};var et=function(t,e){return null==t?void 0:t[e]};var rt=function(t,e){var r=et(t,e);return tt(r)?r:void 0},nt=rt(m,"Map"),ot=rt(Object,"create");var at=function(){this.__data__=ot?ot(null):{},this.size=0};var it=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ct="__lodash_hash_undefined__",st=Object.prototype.hasOwnProperty;var ut=function(t){var e=this.__data__;if(ot){var r=e[t];return r===ct?void 0:r}return st.call(e,t)?e[t]:void 0},ft=Object.prototype.hasOwnProperty;var lt=function(t){var e=this.__data__;return ot?void 0!==e[t]:ft.call(e,t)},pt="__lodash_hash_undefined__";var ht=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ot&&void 0===e?pt:e,this};function vt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vt.prototype.clear=at,vt.prototype.delete=it,vt.prototype.get=ut,vt.prototype.has=lt,vt.prototype.set=ht;var yt=vt;var bt=function(){this.size=0,this.__data__={hash:new yt,map:new(nt||v),string:new yt}};var dt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var gt=function(t,e){var r=t.__data__;return dt(e)?r["string"==typeof e?"string":"hash"]:r.map};var _t=function(t){var e=gt(this,t).delete(t);return this.size-=e?1:0,e};var jt=function(t){return gt(this,t).get(t)};var Ot=function(t){return gt(this,t).has(t)};var wt=function(t,e){var r=gt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function mt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mt.prototype.clear=bt,mt.prototype.delete=_t,mt.prototype.get=jt,mt.prototype.has=Ot,mt.prototype.set=wt;var St=mt,Pt=200;var xt=function(t,e){var r=this.__data__;if(r instanceof v){var n=r.__data__;if(!nt||n.length<Pt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new St(n)}return r.set(t,e),this.size=r.size,this};function kt(t){var e=this.__data__=new v(t);this.size=e.size}kt.prototype.clear=y,kt.prototype.delete=b,kt.prototype.get=d,kt.prototype.has=g,kt.prototype.set=xt;var At=kt,Rt="__lodash_hash_undefined__";var Ft=function(t){return this.__data__.set(t,Rt),this};var Tt=function(t){return this.__data__.has(t)};function zt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new St;++e<r;)this.add(t[e])}zt.prototype.add=zt.prototype.push=Ft,zt.prototype.has=Tt;var Et=zt;var Ct=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var Mt=function(t,e){return t.has(e)},Ut=1,Nt=2;var It=function(t,e,r,n,o,a){var i=r&Ut,c=t.length,s=e.length;if(c!=s&&!(i&&s>c))return!1;var u=a.get(t);if(u&&a.get(e))return u==e;var f=-1,l=!0,p=r&Nt?new Et:void 0;for(a.set(t,e),a.set(e,t);++f<c;){var h=t[f],v=e[f];if(n)var y=i?n(v,h,f,e,t,a):n(h,v,f,t,e,a);if(void 0!==y){if(y)continue;l=!1;break}if(p){if(!Ct(e,function(t,e){if(!Mt(p,e)&&(h===t||o(h,t,r,n,a)))return p.push(e)})){l=!1;break}}else if(h!==v&&!o(h,v,r,n,a)){l=!1;break}}return a.delete(t),a.delete(e),l},Vt=m.Uint8Array;var Wt=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r};var Dt=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r},Lt=1,$t=2,Bt="[object Boolean]",qt="[object Date]",Ht="[object Error]",Gt="[object Map]",Yt="[object Number]",Jt="[object RegExp]",Kt="[object Set]",Qt="[object String]",Xt="[object Symbol]",Zt="[object ArrayBuffer]",te="[object DataView]",ee=S?S.prototype:void 0,re=ee?ee.valueOf:void 0;var ne=function(t,e,r,n,o,a,c){switch(r){case te:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Zt:return!(t.byteLength!=e.byteLength||!a(new Vt(t),new Vt(e)));case Bt:case qt:case Yt:return i(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case Jt:case Qt:return t==e+"";case Gt:var s=Wt;case Kt:var u=n&Lt;if(s||(s=Dt),t.size!=e.size&&!u)return!1;var f=c.get(t);if(f)return f==e;n|=$t,c.set(t,e);var l=It(s(t),s(e),n,o,a,c);return c.delete(t),l;case Xt:if(re)return re.call(t)==re.call(e)}return!1};var oe=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},ae=Array.isArray;var ie=function(t,e,r){var n=e(t);return ae(t)?n:oe(n,r(t))};var ce=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a};var se=function(){return[]},ue=Object.prototype.propertyIsEnumerable,fe=Object.getOwnPropertySymbols,le=fe?function(t){return null==t?[]:(t=Object(t),ce(fe(t),function(e){return ue.call(t,e)}))}:se;var pe=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var he=function(t){return null!=t&&"object"==typeof t},ve="[object Arguments]";var ye=function(t){return he(t)&&M(t)==ve},be=Object.prototype,de=be.hasOwnProperty,ge=be.propertyIsEnumerable,_e=ye(function(){return arguments}())?ye:function(t){return he(t)&&de.call(t,"callee")&&!ge.call(t,"callee")};var je=function(){return!1},Oe=j(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?m.Buffer:void 0,a=(o?o.isBuffer:void 0)||je;t.exports=a}),we=9007199254740991,me=/^(?:0|[1-9]\d*)$/;var Se=function(t,e){var r=typeof t;return!!(e=null==e?we:e)&&("number"==r||"symbol"!=r&&me.test(t))&&t>-1&&t%1==0&&t<e},Pe=9007199254740991;var xe=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Pe},ke={};ke["[object Float32Array]"]=ke["[object Float64Array]"]=ke["[object Int8Array]"]=ke["[object Int16Array]"]=ke["[object Int32Array]"]=ke["[object Uint8Array]"]=ke["[object Uint8ClampedArray]"]=ke["[object Uint16Array]"]=ke["[object Uint32Array]"]=!0,ke["[object Arguments]"]=ke["[object Array]"]=ke["[object ArrayBuffer]"]=ke["[object Boolean]"]=ke["[object DataView]"]=ke["[object Date]"]=ke["[object Error]"]=ke["[object Function]"]=ke["[object Map]"]=ke["[object Number]"]=ke["[object Object]"]=ke["[object RegExp]"]=ke["[object Set]"]=ke["[object String]"]=ke["[object WeakMap]"]=!1;var Ae=function(t){return he(t)&&xe(t.length)&&!!ke[M(t)]};var Re=function(t){return function(e){return t(e)}},Fe=j(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&O.process,a=function(){try{return o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}),Te=Fe&&Fe.isTypedArray,ze=Te?Re(Te):Ae,Ee=Object.prototype.hasOwnProperty;var Ce=function(t,e){var r=ae(t),n=!r&&_e(t),o=!r&&!n&&Oe(t),a=!r&&!n&&!o&&ze(t),i=r||n||o||a,c=i?pe(t.length,String):[],s=c.length;for(var u in t)!e&&!Ee.call(t,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Se(u,s))||c.push(u);return c},Me=Object.prototype;var Ue=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Me)};var Ne=function(t,e){return function(r){return t(e(r))}},Ie=Ne(Object.keys,Object),Ve=Object.prototype.hasOwnProperty;var We=function(t){if(!Ue(t))return Ie(t);var e=[];for(var r in Object(t))Ve.call(t,r)&&"constructor"!=r&&e.push(r);return e};var De=function(t){return null!=t&&xe(t.length)&&!L(t)};var Le=function(t){return De(t)?Ce(t):We(t)};var $e=function(t){return ie(t,Le,le)},Be=1,qe=Object.prototype.hasOwnProperty;var He=function(t,e,r,n,o,a){var i=r&Be,c=$e(t),s=c.length;if(s!=$e(e).length&&!i)return!1;for(var u=s;u--;){var f=c[u];if(!(i?f in e:qe.call(e,f)))return!1}var l=a.get(t);if(l&&a.get(e))return l==e;var p=!0;a.set(t,e),a.set(e,t);for(var h=i;++u<s;){var v=t[f=c[u]],y=e[f];if(n)var b=i?n(y,v,f,e,t,a):n(v,y,f,t,e,a);if(!(void 0===b?v===y||o(v,y,r,n,a):b)){p=!1;break}h||(h="constructor"==f)}if(p&&!h){var d=t.constructor,g=e.constructor;d!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof d&&d instanceof d&&"function"==typeof g&&g instanceof g)&&(p=!1)}return a.delete(t),a.delete(e),p},Ge=rt(m,"DataView"),Ye=rt(m,"Promise"),Je=rt(m,"Set"),Ke=rt(m,"WeakMap"),Qe=G(Ge),Xe=G(nt),Ze=G(Ye),tr=G(Je),er=G(Ke),rr=M;(Ge&&"[object DataView]"!=rr(new Ge(new ArrayBuffer(1)))||nt&&"[object Map]"!=rr(new nt)||Ye&&"[object Promise]"!=rr(Ye.resolve())||Je&&"[object Set]"!=rr(new Je)||Ke&&"[object WeakMap]"!=rr(new Ke))&&(rr=function(t){var e=M(t),r="[object Object]"==e?t.constructor:void 0,n=r?G(r):"";if(n)switch(n){case Qe:return"[object DataView]";case Xe:return"[object Map]";case Ze:return"[object Promise]";case tr:return"[object Set]";case er:return"[object WeakMap]"}return e});var nr=rr,or=1,ar="[object Arguments]",ir="[object Array]",cr="[object Object]",sr=Object.prototype.hasOwnProperty;var ur=function(t,e,r,n,o,a){var i=ae(t),c=ae(e),s=i?ir:nr(t),u=c?ir:nr(e),f=(s=s==ar?cr:s)==cr,l=(u=u==ar?cr:u)==cr,p=s==u;if(p&&Oe(t)){if(!Oe(e))return!1;i=!0,f=!1}if(p&&!f)return a||(a=new At),i||ze(t)?It(t,e,r,n,o,a):ne(t,e,s,r,n,o,a);if(!(r&or)){var h=f&&sr.call(t,"__wrapped__"),v=l&&sr.call(e,"__wrapped__");if(h||v){var y=h?t.value():t,b=v?e.value():e;return a||(a=new At),o(y,b,r,n,a)}}return!!p&&(a||(a=new At),He(t,e,r,n,o,a))};var fr=function t(e,r,n,o,a){return e===r||(null==e||null==r||!he(e)&&!he(r)?e!=e&&r!=r:ur(e,r,n,o,t,a))},lr="[object Symbol]";var pr=function(t){return"symbol"==typeof t||he(t)&&M(t)==lr},hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vr=/^\w*$/;var yr=function(t,e){if(ae(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!pr(t))||vr.test(t)||!hr.test(t)||null!=e&&t in Object(e)},br="Expected a function";function dr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(br);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(dr.Cache||St),r}dr.Cache=St;var gr=dr,_r=500;var jr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Or=/\\(\\)?/g,wr=function(t){var e=gr(t,function(t){return r.size===_r&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(jr,function(t,r,n,o){e.push(n?o.replace(Or,"$1"):r||t)}),e});var mr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},Sr=1/0,Pr=S?S.prototype:void 0,xr=Pr?Pr.toString:void 0;var kr=function t(e){if("string"==typeof e)return e;if(ae(e))return mr(e,t)+"";if(pr(e))return xr?xr.call(e):"";var r=e+"";return"0"==r&&1/e==-Sr?"-0":r};var Ar=function(t){return null==t?"":kr(t)};var Rr=function(t,e){return ae(t)?t:yr(t,e)?[t]:wr(Ar(t))},Fr=1/0;var Tr=function(t){if("string"==typeof t||pr(t))return t;var e=t+"";return"0"==e&&1/t==-Fr?"-0":e};var zr=function(t,e,r){for(var n=-1,o=(e=Rr(e,t)).length,a=!1;++n<o;){var i=Tr(e[n]);if(!(a=null!=t&&r(t,i)))break;t=t[i]}return a||++n!=o?a:!!(o=null==t?0:t.length)&&xe(o)&&Se(i,o)&&(ae(t)||_e(t))};var Er=function(t,e){return fr(t,e)},Cr=Object.prototype.hasOwnProperty;var Mr=function(t,e){return null!=t&&Cr.call(t,e)};var Ur=function(t,e){return null!=t&&zr(t,e,Mr)};function Nr(t){return function(){return t}}var Ir=function(){};Ir.thatReturns=Nr,Ir.thatReturnsFalse=Nr(!1),Ir.thatReturnsTrue=Nr(!0),Ir.thatReturnsNull=Nr(null),Ir.thatReturnsThis=function(){return this},Ir.thatReturnsArgument=function(t){return t};var Vr=Ir;var Wr=function(t,e,r,n,o,a,i,c){if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,a,i,c],f=0;(s=new Error(e.replace(/%s/g,function(){return u[f++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}},Dr=Object.getOwnPropertySymbols,Lr=Object.prototype.hasOwnProperty,$r=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}})()&&Object.assign;var Br="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qr=j(function(t){t.exports=function(){function t(t,e,r,n,o,a){a!==Br&&Wr(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return r.checkPropTypes=Vr,r.PropTypes=r,r}()}),Hr=Ne(Object.getPrototypeOf,Object),Gr="[object Object]",Yr=Function.prototype,Jr=Object.prototype,Kr=Yr.toString,Qr=Jr.hasOwnProperty,Xr=Kr.call(Object);var Zr=function(t){if(!he(t)||M(t)!=Gr)return!1;var e=Hr(t);if(null===e)return!0;var r=Qr.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Kr.call(r)==Xr},tn="[object Map]",en="[object Set]",rn=Object.prototype.hasOwnProperty;var nn=function(t){if(null==t)return!0;if(De(t)&&(ae(t)||"string"==typeof t||"function"==typeof t.splice||Oe(t)||ze(t)||_e(t)))return!t.length;var e=nr(t);if(e==tn||e==en)return!t.size;if(Ue(t))return!We(t).length;for(var r in t)if(rn.call(t,r))return!1;return!0};function on(t,e){if(t===e)return!0;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;a<r.length;a++)if(!o.call(e,r[a])||t[r[a]]!==e[r[a]])return!1;return!0}var an=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},cn=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),sn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},un=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},fn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};t.createConnector=function(t){if(!t.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var n=Ur(t,"refine"),o=Ur(t,"searchForFacetValues"),a=Ur(t,"getSearchParameters"),i=Ur(t,"getMetadata"),c=Ur(t,"transitionState"),s=Ur(t,"cleanUp"),u=a||i||c;return function(f){var l,p,h,v;return p=l=function(e){function l(t,e){an(this,l);var r=fn(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,t,e));h.call(r);var n=e.ais,o=n.store,a=n.widgetsManager;return r.state={props:r.getProvidedProps(sn({},t,{canRender:!1})),canRender:!1},r.unsubscribe=o.subscribe(function(){r.state.canRender&&r.setState({props:r.getProvidedProps(sn({},r.props,{canRender:r.state.canRender}))})}),u&&(r.unregisterWidget=a.registerWidget(r)),r}return un(l,e),cn(l,[{key:"getMetadata",value:function(e){return i?t.getMetadata.call(this,this.props,e):{}}},{key:"getSearchParameters",value:function(e){return a?t.getSearchParameters.call(this,e,this.props,this.context.ais.store.getState().widgets):null}},{key:"transitionState",value:function(e,r){return c?t.transitionState.call(this,this.props,e,r):r}},{key:"componentDidMount",value:function(){this.setState({canRender:!0})}},{key:"componentWillMount",value:function(){t.getSearchParameters&&this.context.ais.onSearchParameters(t.getSearchParameters,this.context,this.props)}},{key:"componentWillReceiveProps",value:function(e){Er(this.props,e)||(this.setState({props:this.getProvidedProps(e)}),u&&(this.context.ais.widgetsManager.update(),t.transitionState&&this.context.ais.onSearchStateChange(t.transitionState.call(this,e,this.context.ais.store.getState().widgets,this.context.ais.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){if(this.unsubscribe(),u&&(this.unregisterWidget(),s)){var e=t.cleanUp.call(this,this.props,this.context.ais.store.getState().widgets);this.context.ais.store.setState(sn({},this.context.ais.store.getState(),{widgets:e})),this.context.ais.onSearchStateChange(function t(e){return Object.keys(e).forEach(function(r){var n=e[r];nn(n)&&Zr(n)?delete e[r]:Zr(n)&&t(n)}),e}(e))}}},{key:"shouldComponentUpdate",value:function(t,e){var r=on(this.props,t);return null===this.state.props||null===e.props?this.state.props!==e.props||!r:!r||!on(this.state.props,e.props)}},{key:"render",value:function(){if(null===this.state.props)return null;var t=n?{refine:this.refine,createURL:this.createURL}:{},e=o?{searchForItems:this.searchForFacetValues}:{};return r.createElement(f,sn({},this.props,this.state.props,t,e))}}]),l}(e.Component),l.displayName=t.displayName+"("+((v=f).displayName||v.name||"UnknownComponent")+")",l.defaultClassNames=f.defaultClassNames,l.propTypes=t.propTypes,l.defaultProps=t.defaultProps,l.contextTypes={ais:qr.object.isRequired,multiIndexContext:qr.object},h=function(){var e=this;this.getProvidedProps=function(r){var n=e.context.ais.store.getState(),o=n.results,a=n.searching,i=n.error,c=n.widgets,s=n.metadata,u=n.resultsFacetValues,f={results:o,searching:a,error:i,searchingForFacetValues:n.searchingForFacetValues,isSearchStalled:n.isSearchStalled};return t.getProvidedProps.call(e,r,c,f,s,u)},this.refine=function(){for(var r,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];e.context.ais.onInternalStateUpdate((r=t.refine).call.apply(r,[e,e.props,e.context.ais.store.getState().widgets].concat(o)))},this.searchForFacetValues=function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];e.context.ais.onSearchForFacetValues(t.searchForFacetValues.apply(t,[e.props,e.context.ais.store.getState().widgets].concat(n)))},this.createURL=function(){for(var r,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return e.context.ais.createHrefForState((r=t.refine).call.apply(r,[e,e.props,e.context.ais.store.getState().widgets].concat(o)))},this.cleanUp=function(){for(var r,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=t.cleanUp).call.apply(r,[e].concat(o))}},p}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=Core.min.js.map
